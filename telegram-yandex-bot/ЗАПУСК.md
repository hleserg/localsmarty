# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É Telegram –±–æ—Ç–∞

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** - –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ `logs/messages.log`
- ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞** - `run_local.py` –∏ `run_local.bat`
- ‚úÖ **–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** - `demo_logging.py`
- ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - python-telegram-bot 22.4

## üìù –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```bash
python demo_logging.py
```

–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:
- –ö–∞–∫ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### 1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω Telegram –±–æ—Ç–∞

1. –ù–∞–π–¥–∏—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Yandex Cloud

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ –≤ Yandex Cloud
2. –ü–æ–ª—É—á–∏—Ç–µ `FOLDER_ID` –∫–∞—Ç–∞–ª–æ–≥–∞
3. –°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è YandexGPT

### 3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–∞–π–ª .env

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –∑–∞–º–µ–Ω–∏—Ç–µ –∑–∞–≥–ª—É—à–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
TELEGRAM_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_botfather
YC_FOLDER_ID=–≤–∞—à_folder_id_–∏–∑_yandex_cloud
YC_API_KEY=–≤–∞—à_api_–∫–ª—é—á_–∏–ª–∏_iam_—Ç–æ–∫–µ–Ω

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
YC_MODEL_URI=gpt://–≤–∞—à_folder_id/yandexgpt/latest
YC_TEMPERATURE=0.3
YC_MAX_TOKENS=800
ENABLE_CONTEXT=true
ENABLE_VOICE=false
LOG_LEVEL=INFO
```

## üöÄ –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### Windows
```bash
run_local.bat
```

### Linux/Mac
```bash
python run_local.py
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
```bash
python src/bot.py
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±—É–¥—É—Ç –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤:

- **`logs/messages.log`** - –í—Å–µ –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- **`logs/combined.log`** - –û–±—â–∏–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
- **`logs/error.log`** - –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

### –§–æ—Ä–º–∞—Ç –ª–æ–≥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:
```
[2025-09-14 04:15:42] CHAT:123456789 USER:987654321 (@username) TYPE:TEXT ID:123 CONTENT:–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

**Windows:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
type logs\messages.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
powershell Get-Content logs\messages.log -Wait
```

**Linux/Mac:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
cat logs/messages.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/messages.log
```

## üéØ –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

- ‚úÖ **–ö–æ–º–∞–Ω–¥—ã** (`/start`, `/help`, `/ping`)
- ‚úÖ **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** (–ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç)
- ‚úÖ **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
- ‚úÖ **–û—Ç–≤–µ—Ç—ã –±–æ—Ç–∞** (—É—Å–ø–µ—à–Ω—ã–µ/–Ω–µ—É—Å–ø–µ—à–Ω—ã–µ)
- ‚úÖ **–û—à–∏–±–∫–∏** (—Å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç—è–º–∏)

## üîç –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

```
# –í—Ö–æ–¥—è—â–∞—è –∫–æ–º–∞–Ω–¥–∞
[2025-09-14 04:15:42] CHAT:123456789 USER:987654321 (@test_user) TYPE:COMMAND ID:1 CONTENT:/start

# –í—Ö–æ–¥—è—â–µ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ  
[2025-09-14 04:15:42] CHAT:123456789 USER:987654321 (@test_user) TYPE:TEXT ID:2 CONTENT:–ü—Ä–∏–≤–µ—Ç! –ö–∞–∫ –¥–µ–ª–∞?

# –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
[2025-09-14 04:15:42] CHAT:123456789 USER:987654321 (@test_user) TYPE:VOICE ID:4 CONTENT:Voice message, duration: 5s, file_id: BAADBAADrwADBREAAYag

# –û—Ç–≤–µ—Ç –±–æ—Ç–∞
[2025-09-14 04:15:42] CHAT:123456789 RESPONSE:TEXT STATUS:SUCCESS
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ "TELEGRAM_TOKEN is not set"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `.env`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –û—à–∏–±–∫–∞ "YC_FOLDER_ID is not set"  
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Yandex Cloud
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `FOLDER_ID` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram API
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `logs/error.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `pip install -r requirements.txt`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª–µ `.env`
