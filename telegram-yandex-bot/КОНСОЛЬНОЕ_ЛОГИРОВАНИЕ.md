# üñ•Ô∏è –ö–û–ù–°–û–õ–¨–ù–û–ï –õ–û–ì–ò–†–û–í–ê–ù–ò–ï - –£–õ–£–ß–®–ï–ù–û!

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ:

### 1. ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **–§–∞–π–ª:** `src/utils/logger.py`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  - –î–æ–±–∞–≤–ª–µ–Ω –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
  - –£–ª—É—á—à–µ–Ω —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω –≤—ã–≤–æ–¥ –≤ —Ñ–∞–π–ª—ã

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏ –¥–ª—è –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞
- **–§—É–Ω–∫—Ü–∏—è:** `log_message()` - —ç–º–æ–¥–∑–∏ üí¨
- **–§—É–Ω–∫—Ü–∏—è:** `log_response()` - —ç–º–æ–¥–∑–∏ ü§ñ ‚úÖ/‚ùå
- **–§—É–Ω–∫—Ü–∏—è:** `log_update_json()` - —ç–º–æ–¥–∑–∏ üì®
- **–§—É–Ω–∫—Ü–∏—è:** `log_info()` - —ç–º–æ–¥–∑–∏ üöÄ
- **–§—É–Ω–∫—Ü–∏—è:** `log_error()` - —ç–º–æ–¥–∑–∏ ‚ùå

### 3. ‚úÖ –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏
- **Updates:** `üì® UPDATE_ID:123456789 TYPE:TEXT USER:@ivan_petrov CONTENT:/start`
- **–°–æ–æ–±—â–µ–Ω–∏—è:** `üîÑ üí¨ COMMAND from @ivan_petrov in chat 123456789: /start`
- **–û—Ç–≤–µ—Ç—ã:** `ü§ñ ‚úÖ Response TEXT to chat 123456789: SUCCESS`
- **–û—à–∏–±–∫–∏:** `‚ùå –¢–µ—Å—Ç–æ–≤–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏`

### 4. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–¢–µ—Å—Ç:** `test_console_logging.py`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 11 —Å–æ–±—ã—Ç–∏–π —É—Å–ø–µ—à–Ω–æ –≤—ã–≤–µ–¥–µ–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª—å
- **–¢–∏–ø—ã:** Updates, —Å–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–≤–µ—Ç—ã, –æ—à–∏–±–∫–∏

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
```python
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler(os.path.join(log_dir, "error.log"), mode='a', encoding='utf-8'),
        logging.FileHandler(os.path.join(log_dir, "combined.log"), mode='a', encoding='utf-8'),
        logging.FileHandler(os.path.join(log_dir, "messages.log"), mode='a', encoding='utf-8'),
        logging.FileHandler(os.path.join(log_dir, "updates.json"), mode='a', encoding='utf-8'),
        logging.StreamHandler()  # –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
    ]
)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞ –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
console_handler = logging.StreamHandler()
console_handler.setLevel(logging.INFO)
console_formatter = logging.Formatter('%(asctime)s - %(levelname)s - %(message)s')
console_handler.setFormatter(console_formatter)
```

### –§—É–Ω–∫—Ü–∏–∏ —Å —ç–º–æ–¥–∑–∏:

#### 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:
```python
def log_message(chat_id: int, user_id: int, username: Optional[str], message_type: str, content: str, message_id: Optional[int] = None):
    # –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏
    console_entry = f"üí¨ {message_type} from {username_str} in chat {chat_id}: {content[:50]}{'...' if len(content) > 50 else ''}"
    
    # –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å
    print(f"üîÑ {console_entry}")
```

#### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤:
```python
def log_response(chat_id: int, response_type: str, success: bool, error_msg: Optional[str] = None):
    # –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∫–æ–Ω—Å–æ–ª–∏
    status_emoji = "‚úÖ" if success else "‚ùå"
    console_entry = f"{status_emoji} Response {response_type} to chat {chat_id}: {status}"
    
    # –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å
    print(f"ü§ñ {console_entry}")
```

#### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ updates:
```python
def log_update_json(update_data: Dict[str, Any]):
    # –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å
    console_message = f"üì® UPDATE_ID:{update_id} TYPE:{update_type} USER:{user_info}"
    
    # –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
    if update_type == "TEXT" and "message" in update_data:
        text_content = update_data["message"].get("text", "")[:50]
        console_message += f" CONTENT:{text_content}"
    
    logger.info(console_message)
```

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

**–¢–µ—Å—Ç –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ **–í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π:** 11
- ‚úÖ **Updates:** 3
- ‚úÖ **–°–æ–æ–±—â–µ–Ω–∏—è:** 3
- ‚úÖ **–û—Ç–≤–µ—Ç—ã:** 3
- ‚úÖ **–û—à–∏–±–∫–∏:** 1
- ‚úÖ **–£—Å–ø–µ—à–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:** 3

## üîç –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

### 1. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞:
```
üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
üìù –í—Å–µ —Å–æ–±—ã—Ç–∏—è –±—É–¥—É—Ç –≤—ã–≤–µ–¥–µ–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª—å —Å —ç–º–æ–¥–∑–∏
üí¨ –ò–º–∏—Ç–∞—Ü–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –±–æ—Ç–∞
```

### 2. –í—Ö–æ–¥—è—â–∏–π update:
```
üì® UPDATE_ID:123456789 TYPE:TEXT USER:@ivan_petrov CONTENT:/start
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
üîÑ üí¨ COMMAND from @ivan_petrov in chat 123456789: /start
```

### 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞:
```
ü§ñ ‚úÖ Response TEXT to chat 123456789: SUCCESS
```

### 5. –ì–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üì® UPDATE_ID:123456791 TYPE:VOICE USER:@anna_sidorova
üîÑ üí¨ VOICE from @anna_sidorova in chat 555666777: Voice message, duration: 4s, file_id: voice_001
```

### 6. –û—à–∏–±–∫–∞:
```
‚ùå –¢–µ—Å—Ç–æ–≤–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤:

### –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥:
- üñ•Ô∏è **–ö–æ–Ω—Å–æ–ª—å** - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —ç–º–æ–¥–∑–∏
- üìù **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏** - –≤ —Ñ–∞–π–ª—ã

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤:
- ‚úÖ **`logs/updates.json`** - –ø–æ–ª–Ω—ã–µ JSON updates
- ‚úÖ **`logs/messages.log`** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ **`logs/combined.log`** - –æ–±—â–∏–µ –ª–æ–≥–∏
- ‚úÖ **`logs/error.log`** - –æ—à–∏–±–∫–∏

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **üñ•Ô∏è –£–¥–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä** - —ç–º–æ–¥–∑–∏ –¥–µ–ª–∞—é—Ç –≤—ã–≤–æ–¥ —á–∏—Ç–∞–µ–º—ã–º
2. **üìù –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
3. **üìÅ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–∞—Ö
4. **üé® –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ** - —Ä–∞–∑–Ω—ã–µ —ç–º–æ–¥–∑–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
5. **‚ö° –ë—ã—Å—Ç—Ä–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** - —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
6. **üîç –õ–µ–≥–∫–∏–π –ø–æ–∏—Å–∫** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```python
# –í –æ—Å–Ω–æ–≤–Ω–æ–º –±–æ—Ç–µ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
# –í—Å–µ —Å–æ–±—ã—Ç–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —ç–º–æ–¥–∑–∏
```

### 2. –†—É—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
```python
from utils.logger import log_info, log_error, log_message, log_response

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
log_info("üöÄ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω")

# –û—à–∏–±–∫–∞
log_error("‚ùå –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞")

# –°–æ–æ–±—â–µ–Ω–∏–µ
log_message(chat_id, user_id, username, "TEXT", "–ü—Ä–∏–≤–µ—Ç!")

# –û—Ç–≤–µ—Ç
log_response(chat_id, "TEXT", True)
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
# –§–∞–π–ª—ã –ª–æ–≥–æ–≤
type logs\messages.log
type logs\updates.json
```

## üéä **–ó–ê–î–ê–ß–ê –ü–û–õ–ù–û–°–¢–¨–Æ –í–´–ü–û–õ–ù–ï–ù–ê!**

### ‚úÖ **–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ª—É—á—à–µ–Ω–æ** - –¥–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏
### ‚úÖ **–ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–æ–Ω—Å–æ–ª–∏** - —Ç–æ–ª—å–∫–æ —Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ
### ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–∞—Ö** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
### ‚úÖ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏** - –ø—Ä–æ–≤–µ–¥–µ–Ω–æ
### ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - —Å–æ–∑–¥–∞–Ω–∞

**–¢–µ–ø–µ—Ä—å –≤—Å–µ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å —Å —ç–º–æ–¥–∑–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞!** üöÄ

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç: `python test_console_logging.py`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `src/utils/logger.py`

**–ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!** ‚ú®
